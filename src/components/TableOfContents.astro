---
interface TocItem {
  depth: number;
  slug: string;
  text: string;
}

interface Props {
  headings: TocItem[];
}

const { headings } = Astro.props;
const filtered = headings.filter((h) => h.depth <= 3);
---

{filtered.length > 0 && (
  <div class="card bg-base-200 border border-base-300 p-4 mb-6">
    <h4 class="text-xs font-bold uppercase tracking-widest text-base-content/40 mb-3" style="font-family: 'Outfit', sans-serif;">
      Jump to Section
    </h4>
    <ul class="flex flex-wrap gap-2">
      {filtered.map((h) => (
        <li>
          <a
            href={`#${h.slug}`}
            class={`badge badge-ghost hover:badge-primary hover:text-primary-content transition-colors cursor-pointer ${
              h.depth === 2 ? "badge-sm" : "badge-xs"
            }`}
          >
            {h.text}
          </a>
        </li>
      ))}
    </ul>
  </div>
)}
